# cosmetic-ingredient-association

1. Data Preprocessing (การเตรียมข้อมูล)
   
Ingredient Standardization:
- แทนที่ตัวคั่นที่หลากหลาย เช่น /, ; และคำว่า and ด้วยเครื่องหมายคอมมา , มาตรฐาน
- กรอง "Stop Ingredients" หรือสารพื้นฐานที่ไม่ส่งผลต่อการระบุเอกลักษณ์ของสภาพผิว เช่น water, glycerin และสารกันเสียต่างๆ ออกจากการวิเคราะห์
- กำจัดส่วนผสมที่ซ้ำซ้อนภายในผลิตภัณฑ์ชิ้นเดียวกัน และตรวจสอบเพื่อให้แน่ใจว่าไม่มีข้อมูลสินค้าซ้ำในฐานข้อมูล

Label Normalization:
- แปลงข้อมูลสภาพผิวที่หลากหลายให้เหลือเพียง 4 หมวดหมู่หลัก: Oily, Dry, Combination และ Sensitive
- กำหนดสถานะเป็น unknown สำหรับข้อมูลที่ไม่ถูกต้องหรือเป็นค่าว่าง เพื่อป้องกันความคลาดเคลื่อนของโมเดล


2. AI Architecture (กระบวนการทำงาน)

Skin Type Clustering Engine (ระบบจัดกลุ่มสภาพผิว)
- Feature Engineering: แปลงข้อมูลส่วนผสมเป็นเวกเตอร์ตัวเลขโดยใช้เทคนิค TF-IDF
- Targeted Weighting: เพิ่มน้ำหนักความสำคัญทางคณิตศาสตร์ให้กับสารสำคัญที่เป็นตัวบ่งชี้สภาพผิว เช่น centella สำหรับผิวแพ้ง่าย หรือ salicylic สำหรับผิวมัน
- Dimensionality Reduction: ใช้ PCA (8 components) เพื่อสกัดฟีเจอร์ที่สำคัญที่สุดจากข้อมูลที่มีมิติมหาศาล ช่วยให้การจับกลุ่มมีความหนาแน่นและแม่นยำขึ้น
- K-Means Clustering: แบ่งผลิตภัณฑ์ออกเป็น 5 กลุ่มที่แตกต่างกัน โดยมีระบบ Cluster 0 ทำหน้าที่เป็นถังพักสำหรับสินค้าทั่วไป
- Strict Identity Mapping:
  - Primary and Secondary Association: จับคู่สภาพผิวเข้ากับ 2 คลัสเตอร์ในกรณีที่ประเภทผิวนั้นเป็นเจ้าภาพหลักในกลุ่มเหล่านั้น
  - Core Identity Mapping: จับคู่กับคลัสเตอร์เดียวที่หนาแน่นที่สุดในกรณีที่ไม่พบการเป็นเจ้าภาพที่เด่นชัด เพื่อคงความแม่นยำในการแนะนำสินค้า
 
Ingredient Association Engine (ระบบวิเคราะห์คู่ส่วนผสม)
- Apriori Algorithm: ขุดหาข้อมูลรูปแบบการใช้ส่วนผสมร่วมกันที่ปรากฏขึ้นบ่อยครั้งในฐานข้อมูล
- Rule Generation: ระบุความสัมพันธ์เชิงเหตุและผล (If-Then) ที่มีนัยสำคัญตามเกณฑ์ทางคณิตศาสตร์ที่กำหนด
- Match Strength Scoring: แปลงค่า Lift Scores ให้เป็นระดับเปอร์เซ็นต์ 0-100% เพื่อให้ผู้ใช้เข้าใจระดับความแม่นยำและความเข้ากันได้ของส่วนผสมได้ง่ายขึ้น


3. Metrics Interpretation (การอ่านผลลัพธ์)

ประสิทธิภาพของระบบจะถูกตรวจสอบผ่าน Model Training Log ใน Directus โดยใช้ตัวบ่งชี้หลักดังนี้:
- Silhouette Score:
  - วัดว่ากลุ่มสภาพผิวแต่ละกลุ่มถูกแยกออกจากกันได้ชัดเจนเพียงใด
  - ค่าเป้าหมาย: มากกว่า 0.5 บ่งบอกว่าการแบ่งกลุ่มทำได้อย่างดีเยี่ยม
- Sum of Squared Errors (SSE / Inertia):
  - วัดความหนาแน่นภายในแต่ละกลุ่มสินค้า
  - ค่าเป้าหมาย: ค่าที่น้อยลงเมื่อเทียบกับการเทรนรอบก่อนหน้า บ่งบอกถึงการจัดกลุ่มที่เหนียวแน่นและสอดคล้องกันมากขึ้น
- Average Lift:
  - แสดงถึงความแข็งแกร่งของความสัมพันธ์ระหว่างส่วนผสม
  - ค่าเป้าหมาย: มากกว่า 1.0 เป็นการพิสูจน์ว่าส่วนผสมคู่นั้นมีความตั้งใจใส่ร่วมกัน ไม่ได้เกิดขึ้นโดยบังเอิญ
- Total Rules:
  - จำนวนคู่ส่วนผสมที่ผ่านการตรวจสอบความถูกต้องซึ่ง AI ค้นพบในฐานข้อมูล
  
